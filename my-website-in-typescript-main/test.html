<!DOCTYPE html>
<head>
<meta http-equiv="content">
<script src='https://js-de.sentry-cdn.com/7cb23d3b7a50d7b18d1aa10757778341.min.js' crossorigin="anonymous"></script>
<title>Test API</title>
</head>
<body>
<div id="test_value" class="test_value">Click to get value</div>
</body>
</html>
<script>
//document.getElementById('test_value').addEventListener('click', function(){ 
   
    //const url = 'http://127.0.0.1:3000/data';
    //const xhr = new XMLHttpRequest();
    //xhr.open('GET', url, true);
    // Include CORS headers
    //xhr.setRequestHeader('Content-Type', 'application/json');
    //xhr.setRequestHeader('Access-Control-Allow-Origin', '*'); // Replace * with your domain if needed
    //xhr.setRequestHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS'); // Specify allowed HTTP methods
    //xhr.setRequestHeader('Access-Control-Allow-Headers', 'Origin, Content-Type, Accept'); // Specify allowed headers
    //xhr.onreadystatechange = function () {
    //if (xhr.readyState === XMLHttpRequest.DONE && xhr.status === 200) {
        // Handle the response
      //  const response = JSON.parse(xhr.responseText);
        //alert(response);
        //}
    //}

//});
</script>








<script>

document.getElementById('test_value').addEventListener('click', function(){ 

//window.reload("http://127.0.0.1:5500/test.html");

  fetch('http://127.0.0.1:5000/data', 
{
  method: 'GET',
  mode:"cors",
  headers: {
    "Content-Type": "text/plain"
  },
  Host:localhost,
  Accept: any,
  Referer: 'https://alexanderkwesi.github.io/my-website-in-typescript/data',
  Origin: 'https://alexanderkwesi.github.io/my-website-in-typescript/test.html',
  Cookie: pageAccess=2
}
).then(response => response.text()).then((data_s) => alert(response.text(data_s.message)))
    .then((data_s) => {
        if (data_s != '')
        {
          alert(response.text(data_s.message));
          data_s_ = response.get('https://alexanderkwesi.github.io/my-website-in-typescript/data');
          document.getElementById('test_value').innerText = response.text(data_s_.message);
        }
        else
        {
          alert('No matching data');
        }
     }).catch(error => {
         alert(error.message);
   });

});

</script>
